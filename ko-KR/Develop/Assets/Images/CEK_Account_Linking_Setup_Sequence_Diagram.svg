<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1092px" preserveAspectRatio="none" style="width:833px;height:1092px;" version="1.1" viewBox="0 0 833 1092" width="833px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="478.84" style="stroke: #000000; stroke-width: 1.0;" width="10" x="169.5" y="345.84"/><rect fill="#FFFFFF" height="30" style="stroke: #000000; stroke-width: 1.0;" width="10" x="349.5" y="264.08"/><rect fill="#FFFFFF" height="51.76" style="stroke: #000000; stroke-width: 1.0;" width="10" x="349.5" y="397.6"/><rect fill="#FFFFFF" height="237.8" style="stroke: #000000; stroke-width: 1.0;" width="10" x="349.5" y="824.68"/><rect fill="#FFFFFF" height="9" style="stroke: #000000; stroke-width: 1.0;" width="10" x="669.5" y="1062.48"/><rect fill="#FFFFFF" height="51.76" style="stroke: #000000; stroke-width: 1.0;" width="10" x="774" y="501.12"/><rect fill="#FFFFFF" height="51.76" style="stroke: #000000; stroke-width: 1.0;" width="10" x="774" y="721.16"/><rect fill="#FFFFFF" height="51.76" style="stroke: #000000; stroke-width: 1.0;" width="10" x="774" y="876.44"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="103.76" y2="1080.48"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="174" x2="174" y1="103.76" y2="1080.48"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="354.5" x2="354.5" y1="103.76" y2="1080.48"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="583" x2="583" y1="103.76" y2="1080.48"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="674" x2="674" y1="103.76" y2="1080.48"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="779" x2="779" y1="103.76" y2="1080.48"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="18" y="89.92">사용자</text><ellipse cx="37.5" cy="13" fill="#FEFECE" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M37.5,21 L37.5,48 M24.5,29 L50.5,29 M37.5,48 L24.5,63 M37.5,48 L50.5,63 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><rect fill="#9EA0CA" height="75.44" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="115" x="117" y="27.32"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="134" y="60.56">클라이언트 앱</text><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="138" y="81.28">or 페어링 앱</text><rect fill="#05D686" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="62" x="323.5" y="48.04"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="340.5" y="81.28">CEK</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="564" y="89.92">개발자</text><ellipse cx="583.5" cy="13" fill="#9EA0CA" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M583.5,21 L583.5,48 M570.5,29 L596.5,29 M583.5,48 L570.5,63 M583.5,48 L596.5,63 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><rect fill="#9EA0CA" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="103" x="623" y="48.04"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="640" y="81.28">Extension</text><rect fill="#9EA0CA" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="86" x="736" y="48.04"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="753" y="81.28">인증서버</text><rect fill="#FFFFFF" height="478.84" style="stroke: #000000; stroke-width: 1.0;" width="10" x="169.5" y="345.84"/><rect fill="#FFFFFF" height="30" style="stroke: #000000; stroke-width: 1.0;" width="10" x="349.5" y="264.08"/><rect fill="#FFFFFF" height="51.76" style="stroke: #000000; stroke-width: 1.0;" width="10" x="349.5" y="397.6"/><rect fill="#FFFFFF" height="237.8" style="stroke: #000000; stroke-width: 1.0;" width="10" x="349.5" y="824.68"/><rect fill="#FFFFFF" height="9" style="stroke: #000000; stroke-width: 1.0;" width="10" x="669.5" y="1062.48"/><rect fill="#FFFFFF" height="51.76" style="stroke: #000000; stroke-width: 1.0;" width="10" x="774" y="501.12"/><rect fill="#FFFFFF" height="51.76" style="stroke: #000000; stroke-width: 1.0;" width="10" x="774" y="721.16"/><rect fill="#FFFFFF" height="51.76" style="stroke: #000000; stroke-width: 1.0;" width="10" x="774" y="876.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="359.5" x2="369.5" y1="264.08" y2="260.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="359.5" x2="369.5" y1="264.08" y2="268.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="359.5" x2="582.5" y1="264.08" y2="264.08"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="185" x="379" y="141.68">인증 관련 정보 사전 등록(OAuth 2.0)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="379" y="159.44">- Authorization URI</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="379" y="177.2">- Client ID</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="379" y="194.96">- Client Secret</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="379" y="212.72">- Redirect URI</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="379" y="230.48">- Access Token URI</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="16" x="379" y="248.24">- ...</text><line style="stroke: #000000; stroke-width: 1.0;" x1="167.5" x2="157.5" y1="345.84" y2="341.84"/><line style="stroke: #000000; stroke-width: 1.0;" x1="167.5" x2="157.5" y1="345.84" y2="349.84"/><line style="stroke: #000000; stroke-width: 1.0;" x1="37.5" x2="168.5" y1="345.84" y2="345.84"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="58" y="330">Extension 활성화</text><line style="stroke: #000000; stroke-width: 1.0;" x1="347.5" x2="337.5" y1="397.6" y2="393.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="347.5" x2="337.5" y1="397.6" y2="401.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="179.5" x2="348.5" y1="397.6" y2="397.6"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="202" y="381.76">Authorization URI 요청</text><line style="stroke: #000000; stroke-width: 1.0;" x1="179.5" x2="189.5" y1="449.36" y2="445.36"/><line style="stroke: #000000; stroke-width: 1.0;" x1="179.5" x2="189.5" y1="449.36" y2="453.36"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="179.5" x2="353.5" y1="449.36" y2="449.36"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="204.5" y="433.52">Authorization URI 반환</text><line style="stroke: #000000; stroke-width: 1.0;" x1="772" x2="762" y1="501.12" y2="497.12"/><line style="stroke: #000000; stroke-width: 1.0;" x1="772" x2="762" y1="501.12" y2="505.12"/><line style="stroke: #000000; stroke-width: 1.0;" x1="179.5" x2="773" y1="501.12" y2="501.12"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="202" x="375.75" y="485.28">로그인 페이지 요청(Authorization URI)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="179.5" x2="189.5" y1="552.88" y2="548.88"/><line style="stroke: #000000; stroke-width: 1.0;" x1="179.5" x2="189.5" y1="552.88" y2="556.88"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="179.5" x2="778" y1="552.88" y2="552.88"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="432.25" y="537.04">로그인 페이지 반환</text><line style="stroke: #000000; stroke-width: 1.0;" x1="179.5" x2="221.5" y1="604.64" y2="604.64"/><line style="stroke: #000000; stroke-width: 1.0;" x1="221.5" x2="221.5" y1="604.64" y2="617.64"/><line style="stroke: #000000; stroke-width: 1.0;" x1="180.5" x2="221.5" y1="617.64" y2="617.64"/><polygon fill="#000000" points="190.5,613.64,180.5,617.64,190.5,621.64,186.5,617.64" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="196.5" y="588.8">로그인 페이지 표시</text><line style="stroke: #000000; stroke-width: 1.0;" x1="167.5" x2="157.5" y1="669.4" y2="665.4"/><line style="stroke: #000000; stroke-width: 1.0;" x1="167.5" x2="157.5" y1="669.4" y2="673.4"/><line style="stroke: #000000; stroke-width: 1.0;" x1="37.5" x2="168.5" y1="669.4" y2="669.4"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="59.5" y="653.56">계정 인증(로그인)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="772" x2="762" y1="721.16" y2="717.16"/><line style="stroke: #000000; stroke-width: 1.0;" x1="772" x2="762" y1="721.16" y2="725.16"/><line style="stroke: #000000; stroke-width: 1.0;" x1="179.5" x2="773" y1="721.16" y2="721.16"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="453.25" y="705.32">인증 요청</text><line style="stroke: #000000; stroke-width: 1.0;" x1="179.5" x2="189.5" y1="772.92" y2="768.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="179.5" x2="189.5" y1="772.92" y2="776.92"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="179.5" x2="778" y1="772.92" y2="772.92"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="239" x="359.75" y="757.08">Authorization code와 함께 redirect URI 전달</text><line style="stroke: #000000; stroke-width: 1.0;" x1="347.5" x2="337.5" y1="824.68" y2="820.68"/><line style="stroke: #000000; stroke-width: 1.0;" x1="347.5" x2="337.5" y1="824.68" y2="828.68"/><line style="stroke: #000000; stroke-width: 1.0;" x1="174.5" x2="348.5" y1="824.68" y2="824.68"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="131" x="196.5" y="808.84">Authorization code 반환</text><line style="stroke: #000000; stroke-width: 1.0;" x1="772" x2="762" y1="876.44" y2="872.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="772" x2="762" y1="876.44" y2="880.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="359.5" x2="773" y1="876.44" y2="876.44"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="303" x="415.25" y="860.6">Access Token URI로 authorization code 파라미터로 전달</text><line style="stroke: #000000; stroke-width: 1.0;" x1="359.5" x2="369.5" y1="928.2" y2="924.2"/><line style="stroke: #000000; stroke-width: 1.0;" x1="359.5" x2="369.5" y1="928.2" y2="932.2"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="359.5" x2="778" y1="928.2" y2="928.2"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="519.75" y="912.36">access token 반환</text><line style="stroke: #000000; stroke-width: 1.0;" x1="359.5" x2="401.5" y1="997.72" y2="997.72"/><line style="stroke: #000000; stroke-width: 1.0;" x1="401.5" x2="401.5" y1="997.72" y2="1010.72"/><line style="stroke: #000000; stroke-width: 1.0;" x1="360.5" x2="401.5" y1="1010.72" y2="1010.72"/><polygon fill="#000000" points="370.5,1006.72,360.5,1010.72,370.5,1014.72,366.5,1010.72" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="376.5" y="964.12">사용자 계정 정보에</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="376.5" y="981.88">access token 저장</text><line style="stroke: #000000; stroke-width: 1.0;" x1="667.5" x2="657.5" y1="1062.48" y2="1058.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="667.5" x2="657.5" y1="1062.48" y2="1066.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="354.5" x2="668.5" y1="1062.48" y2="1062.48"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="196" x="414" y="1046.64">Access token과 함께 사용자 요청 전달</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor "사용자" as user
participant "클라이언트 앱\nor 페어링 앱" as app #9EA0CA
participant CEK as cek #05D686
actor "개발자" as dev #9EA0CA
participant Extension as ext #9EA0CA
participant "인증서버" as auth #9EA0CA

dev ->> cek: 인증 관련 정보 사전 등록(OAuth 2.0)\l- Authorization URI\l- Client ID\l- Client Secret\l- Redirect URI\l- Access Token URI\l- ...

activate cek
deactivate cek

user ->> app: Extension 활성화

activate app
  app ->> cek: Authorization URI 요청

  activate cek
    cek - ->> app: Authorization URI 반환
  deactivate cek

  app ->> auth: 로그인 페이지 요청(Authorization URI)

  activate auth
    auth - ->> app: 로그인 페이지 반환
  deactivate auth

  app -> app: 로그인 페이지 표시
  user ->> app: 계정 인증(로그인)
  app ->> auth: 인증 요청

  activate auth
  auth - ->> app: Authorization code와 함께 redirect URI 전달
  deactivate auth

  app ->> cek: Authorization code 반환
deactivate app

  activate cek
      cek ->> auth: Access Token URI로 authorization code 파라미터로 전달
      activate auth
        auth - ->> cek: access token 반환
      deactivate auth

    cek -> cek: 사용자 계정 정보에\naccess token 저장
    cek ->> ext: Access token과 함께 사용자 요청 전달
    deactivate cek
    activate ext

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.3
Default Encoding: US-ASCII
Language: en
Country: KR
--></g></svg>